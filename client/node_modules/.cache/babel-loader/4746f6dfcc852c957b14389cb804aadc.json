{"ast":null,"code":"import _objectSpread from \"/Users/ru/code/repaso-bootcamp/socket-chat/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/ru/code/repaso-bootcamp/socket-chat/src/Chat.jsx\";\nimport React, { Component } from 'react';\nimport { Container } from 'bloomer';\nimport { Columns } from 'bloomer/lib/grid/Columns';\nimport { Column } from 'bloomer/lib/grid/Column';\nimport { Box } from 'bloomer/lib/elements/Box';\nimport { Content } from 'bloomer/lib/elements/Content';\nimport { Input } from 'bloomer/lib/elements/Form/Input';\nimport { Control } from 'bloomer/lib/elements/Form/Control';\nimport { Button } from 'bloomer/lib/elements/Button';\nimport { Field } from 'bloomer/lib/elements/Form/Field/Field';\nexport default class Chat extends Component {\n  constructor(props) {\n    super(props);\n    this.chatArea = \"\";\n    this.state = {\n      messagesList: [{\n        user: \"pepe\",\n        message: \"hola\",\n        timeStamp: \"-\"\n      }, {\n        user: \"pepe\",\n        message: \"hola\",\n        timeStamp: \"-\"\n      }, {\n        user: \"pepe\",\n        message: \"hola\",\n        timeStamp: \"-\"\n      }, {\n        user: \"pepe\",\n        message: \"hola\",\n        timeStamp: \"-\"\n      }, {\n        user: \"pepe\",\n        message: \"hola\",\n        timeStamp: \"-\"\n      }, {\n        user: \"pepe\",\n        message: \"hola\",\n        timeStamp: \"-\"\n      }, {\n        user: \"pepe\",\n        message: \"hola\",\n        timeStamp: \"-\"\n      }, {\n        user: \"pepe\",\n        message: \"hola\",\n        timeStamp: \"-\"\n      }, {\n        user: \"pepe\",\n        message: \"hola\",\n        timeStamp: \"-\"\n      }, {\n        user: \"pepe\",\n        message: \"hola\",\n        timeStamp: \"-\"\n      }, {\n        user: \"pepe\",\n        message: \"hola\",\n        timeStamp: \"-\"\n      }, {\n        user: \"pepe\",\n        message: \"hola\",\n        timeStamp: \"-\"\n      }, {\n        user: \"pepe\",\n        message: \"hola\",\n        timeStamp: \"-\"\n      }, {\n        user: \"pepe\",\n        message: \"hola\",\n        timeStamp: \"-\"\n      }, {\n        user: \"pepe\",\n        message: \"hola\",\n        timeStamp: \"-\"\n      }, {\n        user: \"pepe\",\n        message: \"hola\",\n        timeStamp: \"-\"\n      }, {\n        user: \"pepe\",\n        message: \"hola\",\n        timeStamp: \"-\"\n      }, {\n        user: \"pepe\",\n        message: \"hola\",\n        timeStamp: \"-\"\n      }, {\n        user: \"pepe\",\n        message: \"hola\",\n        timeStamp: \"-\"\n      }, {\n        user: \"pepe\",\n        message: \"hola\",\n        timeStamp: \"-\"\n      }, {\n        user: \"pepe\",\n        message: \"hola\",\n        timeStamp: \"-\"\n      }, {\n        user: \"pepe\",\n        message: \"hola\",\n        timeStamp: \"-\"\n      }, {\n        user: \"pepe\",\n        message: \"hola\",\n        timeStamp: \"-\"\n      }, {\n        user: \"pepe\",\n        message: \"hola\",\n        timeStamp: \"-\"\n      }, {\n        user: \"pepe\",\n        message: \"hola\",\n        timeStamp: \"-\"\n      }, {\n        user: \"pepe\",\n        message: \"hola\",\n        timeStamp: \"-\"\n      }, {\n        user: \"pepe\",\n        message: \"hola\",\n        timeStamp: \"-\"\n      }, {\n        user: \"pepe\",\n        message: \"hola\",\n        timeStamp: \"-\"\n      }, {\n        user: \"pepe\",\n        message: \"hola\",\n        timeStamp: \"-\"\n      }, {\n        user: \"pepe\",\n        message: \"hola\",\n        timeStamp: \"-\"\n      }, {\n        user: \"pepe\",\n        message: \"hola\",\n        timeStamp: \"-\"\n      }, {\n        user: \"pepe\",\n        message: \"hola\",\n        timeStamp: \"-\"\n      }, {\n        user: \"pepe\",\n        message: \"hola\",\n        timeStamp: \"-\"\n      }, {\n        user: \"pepe\",\n        message: \"hola\",\n        timeStamp: \"-\"\n      }, {\n        user: \"pepe\",\n        message: \"hola\",\n        timeStamp: \"-\"\n      }, {\n        user: \"pepe\",\n        message: \"hola\",\n        timeStamp: \"-\"\n      }, {\n        user: \"pepe\",\n        message: \"hola\",\n        timeStamp: \"-\"\n      }, {\n        user: \"pepe\",\n        message: \"hola\",\n        timeStamp: \"-\"\n      }, {\n        user: \"pepe\",\n        message: \"hola\",\n        timeStamp: \"-\"\n      }, {\n        user: \"pepe\",\n        message: \"hola\",\n        timeStamp: \"-\"\n      }, {\n        user: \"pepe\",\n        message: \"hola\",\n        timeStamp: \"-\"\n      }],\n      message: \"\"\n    };\n  }\n\n  submitMessage(e) {\n    e.preventDefault();\n\n    if (this.state.message.trim() !== \"\") {\n      const today = new Date();\n      const timeStamp = today.getHours() + \":\" + today.getMinutes();\n      const messages = [...this.state.messagesList];\n      messages.push({\n        user: this.props.userName,\n        message: this.state.message,\n        timeStamp\n      });\n      this.setState(_objectSpread({}, this.state, {\n        messagesList: messages,\n        message: \"\"\n      }));\n    }\n  }\n\n  handleChange(e) {\n    this.setState({\n      message: e.target.value\n    });\n  }\n\n  componentDidMount() {\n    this.chatArea = document.querySelector(\".chat-area\");\n    this.chatArea.scrollTop = this.chatArea.scrollHeight;\n  }\n\n  componentDidUpdate() {\n    //const chatArea = document.querySelector(\".chat-area\")\n    console.log(this.chatArea.scrollHeight);\n    this.chatArea.scrollTop = this.chatArea.scrollHeight;\n  }\n\n  render() {\n    const _this$props = this.props,\n          users = _this$props.users,\n          userName = _this$props.userName;\n\n    if (!userName) {\n      this.props.history.push(\"/\");\n    }\n\n    return React.createElement(Container, {\n      className: \"chat-container is-fluid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }, React.createElement(Content, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, React.createElement(Columns, {\n      isSize: \"1/4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }, React.createElement(Column, {\n      className: \"users-list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      className: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, \"Users list\"), React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, users.map((user, idx) => {\n      return user === userName ? React.createElement(\"li\", {\n        key: idx,\n        className: \"current-user\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }, user) : React.createElement(\"li\", {\n        key: idx,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }, user);\n    }))), React.createElement(Column, {\n      isSize: \"3/4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, React.createElement(Box, {\n      className: \"chat-area\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, this.state.messagesList.map((message, idx) => {\n      return message.user === userName ? React.createElement(\"li\", {\n        key: idx,\n        className: \"current-user-message\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }, \"[\", message.timeStamp, \"] \", message.user, \": \", message.message, \" \") : React.createElement(\"li\", {\n        key: idx,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }, \"[\", message.timeStamp, \"] \", message.user, \": \", message.message, \" \");\n    }))), React.createElement(\"form\", {\n      className: \"text-form\",\n      onSubmit: e => this.submitMessage(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, React.createElement(Field, {\n      isGrouped: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }, React.createElement(Input, {\n      onChange: e => this.handleChange(e),\n      type: \"text\",\n      placeholder: \"write a message...\",\n      value: this.state.message,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }), React.createElement(Control, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, React.createElement(Button, {\n      isColor: \"danger\",\n      onClick: e => this.submitMessage(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    }, \"Send\"))))))));\n  }\n\n}","map":{"version":3,"sources":["/Users/ru/code/repaso-bootcamp/socket-chat/src/Chat.jsx"],"names":["React","Component","Container","Columns","Column","Box","Content","Input","Control","Button","Field","Chat","constructor","props","chatArea","state","messagesList","user","message","timeStamp","submitMessage","e","preventDefault","trim","today","Date","getHours","getMinutes","messages","push","userName","setState","handleChange","target","value","componentDidMount","document","querySelector","scrollTop","scrollHeight","componentDidUpdate","console","log","render","users","history","map","idx"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\n\nimport { Container } from 'bloomer';\nimport { Columns } from 'bloomer/lib/grid/Columns';\nimport { Column } from 'bloomer/lib/grid/Column';\nimport { Box } from 'bloomer/lib/elements/Box';\nimport { Content } from 'bloomer/lib/elements/Content';\nimport { Input } from 'bloomer/lib/elements/Form/Input';\nimport { Control } from 'bloomer/lib/elements/Form/Control';\nimport { Button } from 'bloomer/lib/elements/Button';\nimport { Field } from 'bloomer/lib/elements/Form/Field/Field';\n\nexport default class Chat extends Component {\n  constructor(props){\n    \n    super(props)\n    this.chatArea = \"\"\n    this.state = {\n      messagesList: [\n        {user: \"pepe\",\n      message: \"hola\",\n      timeStamp: \"-\"},\n      {user: \"pepe\",\n      message: \"hola\",\n      timeStamp: \"-\"},\n      {user: \"pepe\",\n      message: \"hola\",\n      timeStamp: \"-\"},\n      {user: \"pepe\",\n      message: \"hola\",\n      timeStamp: \"-\"},\n      {user: \"pepe\",\n      message: \"hola\",\n      timeStamp: \"-\"},\n      {user: \"pepe\",\n      message: \"hola\",\n      timeStamp: \"-\"},\n      {user: \"pepe\",\n      message: \"hola\",\n      timeStamp: \"-\"},\n      {user: \"pepe\",\n      message: \"hola\",\n      timeStamp: \"-\"},\n      {user: \"pepe\",\n      message: \"hola\",\n      timeStamp: \"-\"},\n      {user: \"pepe\",\n      message: \"hola\",\n      timeStamp: \"-\"},\n      {user: \"pepe\",\n      message: \"hola\",\n      timeStamp: \"-\"},\n      {user: \"pepe\",\n      message: \"hola\",\n      timeStamp: \"-\"},\n      {user: \"pepe\",\n      message: \"hola\",\n      timeStamp: \"-\"},\n      {user: \"pepe\",\n      message: \"hola\",\n      timeStamp: \"-\"},\n      {user: \"pepe\",\n      message: \"hola\",\n      timeStamp: \"-\"},\n      {user: \"pepe\",\n      message: \"hola\",\n      timeStamp: \"-\"},\n      {user: \"pepe\",\n      message: \"hola\",\n      timeStamp: \"-\"},\n      {user: \"pepe\",\n      message: \"hola\",\n      timeStamp: \"-\"},\n      {user: \"pepe\",\n      message: \"hola\",\n      timeStamp: \"-\"},\n      {user: \"pepe\",\n      message: \"hola\",\n      timeStamp: \"-\"},\n      {user: \"pepe\",\n      message: \"hola\",\n      timeStamp: \"-\"},\n      {user: \"pepe\",\n      message: \"hola\",\n      timeStamp: \"-\"},\n      {user: \"pepe\",\n      message: \"hola\",\n      timeStamp: \"-\"},\n      {user: \"pepe\",\n      message: \"hola\",\n      timeStamp: \"-\"},\n      {user: \"pepe\",\n      message: \"hola\",\n      timeStamp: \"-\"},\n      {user: \"pepe\",\n      message: \"hola\",\n      timeStamp: \"-\"},\n      {user: \"pepe\",\n      message: \"hola\",\n      timeStamp: \"-\"},\n      {user: \"pepe\",\n      message: \"hola\",\n      timeStamp: \"-\"},\n      {user: \"pepe\",\n      message: \"hola\",\n      timeStamp: \"-\"},\n      {user: \"pepe\",\n      message: \"hola\",\n      timeStamp: \"-\"},\n      {user: \"pepe\",\n      message: \"hola\",\n      timeStamp: \"-\"},\n      {user: \"pepe\",\n      message: \"hola\",\n      timeStamp: \"-\"},\n      {user: \"pepe\",\n      message: \"hola\",\n      timeStamp: \"-\"},\n      {user: \"pepe\",\n      message: \"hola\",\n      timeStamp: \"-\"},\n      {user: \"pepe\",\n      message: \"hola\",\n      timeStamp: \"-\"},\n      {user: \"pepe\",\n      message: \"hola\",\n      timeStamp: \"-\"},\n      {user: \"pepe\",\n      message: \"hola\",\n      timeStamp: \"-\"},\n      {user: \"pepe\",\n      message: \"hola\",\n      timeStamp: \"-\"},\n      {user: \"pepe\",\n      message: \"hola\",\n      timeStamp: \"-\"},\n      {user: \"pepe\",\n      message: \"hola\",\n      timeStamp: \"-\"},\n      {user: \"pepe\",\n      message: \"hola\",\n      timeStamp: \"-\"}\n      ],\n      message: \"\"\n    }\n  }\n\n  submitMessage(e){\n    e.preventDefault()\n    if(this.state.message.trim() !== \"\"){\n      const today = new Date();\n      const timeStamp = today.getHours() + \":\" + today.getMinutes();\n      const messages = [...this.state.messagesList]\n      messages.push({\n      user: this.props.userName,\n      message: this.state.message,\n      timeStamp\n    })\n\n    this.setState({\n      ...this.state,\n      messagesList: messages,\n      message: \"\"\n    })\n    }\n    \n\n  }\n\n  handleChange(e){\n    this.setState({message: e.target.value})\n  }\n\n  componentDidMount(){\n    this.chatArea = document.querySelector(\".chat-area\")\n    this.chatArea.scrollTop = this.chatArea.scrollHeight;\n\n  }\n\n  componentDidUpdate(){\n    //const chatArea = document.querySelector(\".chat-area\")\n    console.log(this.chatArea.scrollHeight)\n    this.chatArea.scrollTop = this.chatArea.scrollHeight;\n  }\n\n\n  render() {\n    const {users, userName} = this.props\n    \n\n    if(!userName){\n      this.props.history.push(\"/\")\n\n    }\n\n    return (\n      <Container  className=\"chat-container is-fluid\">\n      <Content>\n      <Columns isSize=\"1/4\">\n        <Column className=\"users-list\">\n        <h2 className=\"title\">Users list</h2>\n        <ul>\n          {users.map((user, idx) => {\n            return user===userName?\n            <li key={idx} className=\"current-user\">{user}</li>:\n            <li key={idx}>{user}</li>\n          })}\n        </ul>\n        </Column>\n        <Column  isSize=\"3/4\">\n        <Box className=\"chat-area\">\n        <ul>\n          {this.state.messagesList.map((message, idx) =>{\n            return message.user===userName?\n          <li key={idx} className=\"current-user-message\">[{message.timeStamp}] {message.user}: {message.message} </li>:\n          <li key={idx}>[{message.timeStamp}] {message.user}: {message.message} </li>\n          })}\n        </ul>\n        </Box>\n        <form className=\"text-form\" onSubmit={(e) => this.submitMessage(e)}>\n          <Field isGrouped>\n          <Input\n            onChange={e => this.handleChange(e)}\n            type=\"text\" \n            placeholder=\"write a message...\"\n            value={this.state.message}/>\n          <Control>\n            <Button \n              isColor=\"danger\"\n              onClick={(e) => this.submitMessage(e)}>\n              Send\n            </Button>\n          </Control>\n          \n          </Field>\n        </form>\n        </Column>\n      </Columns>\n\n      </Content>\n      </Container>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}